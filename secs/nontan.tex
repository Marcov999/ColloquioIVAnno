\begin{defn}
  Chiamiamo \textit{settore di vertice $1$ e angolo d'apertura $2\alpha$} l'insieme $S \subset \mathbb{D}$ tale che per ogni $z \in S$ l'angolo compreso tra l'asse reale e la retta congiungente $1$ e $z$ è minore di $\alpha$. \\
  Quando scriviamo $z \longrightarrow 1$ \textit{non tangenzialmente}, s'intende che stiamo considerando i punti appartenenti a un settore $S$ fissato.
  \begin{center}
    \begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=2.5cm,y=2.5cm]
      \draw[->,color=black] (-1.13,0) -- (1.15,0);
      \foreach \x in {-1,1}
      \draw[shift={(\x,0)},color=black] (0pt,2pt) -- (0pt,-2pt);
      \draw[->,color=black] (0,-1.11) -- (0,1.12);
      \foreach \y in {-1,1}
      \draw[shift={(0,\y)},color=black] (2pt,0pt) -- (-2pt,0pt);
      \clip(-1.13,-1.11) rectangle (1.15,1.12);
      \draw(0,0) circle (2.5cm);
      \draw[name path=A] (0.49,0.87)-- (1,0);
      \draw[name path=B] (0.49,-0.87)-- (1,0);
      \tikzfillbetween[of=A and B]{blue, opacity=0.25};
      \draw[name path=C,smooth,samples=100,domain=-1:0.491] plot(\x,{sqrt(1-(\x)^2)});
      \draw[name path=D,smooth,samples=100,domain=-1:0.491] plot(\x,{0-sqrt(1-(\x)^2)});
      \tikzfillbetween[of=C and D]{blue, opacity=0.25};
    \end{tikzpicture}

    In blu, il settore di angolo d'apertura $\frac{2}{3}\pi$
  \end{center}
\end{defn}

La seguente proposizione asserisce che, per $z \longrightarrow 1$ non tangenzialmente, un certo andamento di $f$ può essere tradotto nell'andamento di $f^h$. È questo che ci permetterà di dimostrare il teorema 2.1 di \cite{BK} passando per la versione al bordo del lemma di Schwarz-Pick.

\begin{prop} \label{o^3->o^2}
  Sia $f:\mathbb{D} \longrightarrow \mathbb{D}$ una funzione olomorfa tale che
  \begin{equation} \label{o^3}
    f(z)=1+(z-1)+o((z-1)^3)
  \end{equation}
  per $z \longrightarrow 1$ non tangenzialmente. Allora
  \begin{equation} \label{o^2}
    f^h(z)=1+o((z-1)^2)
  \end{equation}
  per $z \longrightarrow 1$ non tangenzialmente.
\end{prop}

\begin{proof}

  Sia $S$ un settore di vertice $1$ e angolo d'apertura $2\alpha$, e $S'$ uno un po' più grande di vertice $1$ e angolo $2\beta$, $\beta>\alpha$. Per $z \in S$, sia $C(z)$ il cerchio di centro $z$ e raggio $r(z)=\text{dist}(z, \partial S')$ (la distanza di $z$ dal bordo di $S'$). Allora per la formula integrale di Cauchy
  \begin{align*}
    f'(z) & =\frac{1}{2\pi i} \int_{C(z)} \frac{f(w)}{(w-z)^2}\diff w \\
    & =\frac{1}{2\pi i} \int_{C(z)} \frac{w-1+(f(w)-w)}{(w-z)^2}\diff w \\
    & =\frac{1}{2\pi i} \int_{C(z)} \frac{1}{w-z}\diff w+\frac{1}{2\pi i} \int_{C(z)} \frac{z-1+f(w)-w}{(w-z)^2}\diff w \\
    & =1+\frac{1}{2\pi i} \int_{C(z)} \frac{f(w)-w}{(w-z)^2}\diff w=:1+I(z).
  \end{align*}

  \begin{center}
    \definecolor{qqffqq}{rgb}{0,1,0}
    \definecolor{qqqqff}{rgb}{0,0,1}
    \definecolor{uququq}{rgb}{0.25,0.25,0.25}
    \definecolor{ffqqqq}{rgb}{1,0,0}
    \begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=3.0cm,y=3.0cm]
      \draw[->,color=black] (-1.12,0) -- (1.2,0);
      \foreach \x in {-1,1}
      \draw[shift={(\x,0)},color=black] (0pt,2pt) -- (0pt,-2pt);
      \draw[->,color=black] (0,-1.11) -- (0,1.11);
      \foreach \y in {-1,1}
      \draw[shift={(0,\y)},color=black] (2pt,0pt) -- (-2pt,0pt);
      \clip(-1.12,-1.11) rectangle (1.2,1.11);
      \draw [shift={(1,0)},color=ffqqqq,fill=ffqqqq,fill opacity=0.1] (0,0) -- (180:0.26) arc (180:244.77:0.26) -- cycle;
      \draw [shift={(1,0)},color=qqqqff,fill=qqqqff,fill opacity=0.1] (0,0) -- (-180:0.14) arc (-180:-127.09:0.14) -- cycle;
      \draw [shift={(1,0)},color=qqffqq,fill=qqffqq,fill opacity=0.1] (0,0) -- (115.23:0.33) arc (115.23:143.3:0.33) -- cycle;
      \draw(0,0) circle (3cm);
      \draw (1,0)-- (0.27,0.96);
      \draw (0.64,0.77)-- (1,0);
      \draw (0.27,-0.96)-- (1,0);
      \draw (1,0)-- (0.64,-0.77);
      \draw [shift={(1,0)},color=ffqqqq] (180:0.26) arc (180:244.77:0.26);
      \draw [shift={(1,0)},color=ffqqqq] (180:0.23) arc (180:244.77:0.23);
      \draw(0.5,0.37) circle (0.888cm);
      \draw (0.5,0.37)-- (0.77,0.49);
      \draw (0.27,0.54)-- (1,0);
      \draw [shift={(1,0)},color=qqffqq] (115.23:0.33) arc (115.23:143.3:0.33);
      \draw [shift={(1,0)},color=qqffqq] (115.23:0.3) arc (115.23:143.3:0.3);
      \draw [shift={(1,0)},color=qqffqq] (115.23:0.28) arc (115.23:143.3:0.28);
      \begin{scriptsize}
        \draw[color=ffqqqq] (0.84,-0.09) node {$\beta$};
        \fill [color=black] (0.5,0.37) circle (1.5pt);
        \draw[color=black] (0.48,0.32) node {$z$};
        \draw[color=black] (0.18,0.14) node {$C(z)$};
        \draw[color=black] (0.54,0.465) node {$r(z)$};
        \fill [color=black] (1,0) circle (1.5pt);
        \draw[color=black] (1.04,0.05) node {$1$};
        \fill [color=black] (0.26,0.545) circle (1.5pt);
        \draw[color=black] (0.20,0.58) node {$A$};
        \fill [color=black] (1,0) circle (1.5pt);
        \draw[color=qqqqff] (0.92,-0.03) node {$\alpha$};
        \draw[color=qqffqq] (0.83,0.16) node {$\gamma$};
      \end{scriptsize}
    \end{tikzpicture}
  \end{center}

  Dato $\epsilon>0$ fissato, per ipotesi esiste $\delta>0$ tale che $|f(w)-w|<\epsilon|1-w|^3$ per ogni $w \in S'$ con $|w-1|<\delta$. $B(z,r(z)) \subset \mathbb{D} \implies r(z) \le 1-|z|$. Se $|z-1|<\delta/2$, $r(z) \le 1-|z|=|z-1-z|-|z| \le |z-1|+|z|-|z|=|z-1|<\delta/2$, dunque per ogni $w \in C(z)$ abbiamo $|w-1| \le |w-z|+|z-1|=r(z)+|z-1|<\delta$. Per questi $z$ vale che
  \begin{align*}
    |I(z)| & \le \frac{\epsilon}{2\pi} \int_0^{2\pi} \frac{|1-(z+r(z)e^{i\theta})|^3}{|(z+r(z)e^{i\theta})-z|^2}r(z)\diff\theta \\
    & \le \frac{\epsilon}{r(z)}\max_{\theta \in [0,2\pi]} |1-(z+r(z)e^{i\theta})|^3 \\
    & =\frac{\epsilon}{r(z)}\max_{w \in C(z)}|1-w|^3.
  \end{align*}
  Il massimo è raggiunto per l'intersezione più lontana da $1$ tra la circonferenza $C(z)$ e la retta passante per $1$ e $z$ (il punto $A$ in figura), perciò, detto $\gamma$ l'angolo tra $\partial S'$ (per essere precisi, la retta contenente il tratto affine più vicino a $z$) e la retta congiungente $1$ e $z$:
  \begin{align*}
    |I(z)| & \le \frac{\epsilon}{r(z)}(r(z)+|z-1|)^3 \\
    & =\epsilon r(z)^2\left(1+\frac{|z-1|}{r(z)}\right)^3 \\
    & =\epsilon r(z)^2(1+\csc\gamma)^3 \\
    & \le \epsilon r(z)^2(1+\csc(\beta-\alpha))^3 \\
    & \le \epsilon |z-1|^2(1+\csc(\beta-\alpha))^3.
  \end{align*}
  La penultima disuguaglianza segue da $\gamma \ge \beta-\alpha$ e dal fatto che $\csc$ è decrescente sui positivi, mentre l'ultima segue da quanto visto sopra. Otteniamo dunque $f'(z)=1+o((z-1)^2)$ per $z \longrightarrow 1$ non tangenzialmente.

  Adesso ci servirà il seguente lemma.

  \begin{lm} \label{opiccoli}
    Per $z \longrightarrow 1$ non tangenzialmente, $|z-1|$ e $1-|z|$ hanno gli stessi $o$-piccoli.
  \end{lm}

  \begin{proof}
    $1-|z| \le |z-1|$ l'abbiamo già visto. Per concludere ci basta dunque mostrare che, per $z$ appartenente a un settore $S$ di angolo $2\alpha$ fissato, vale una disuguaglianza opposta, a meno di una qualche costante.
    $$|z-1|=r(z)\frac{|z-1|}{r(z)} \le r(z)\csc(\beta-\alpha) \le (1-|z|)\csc(\beta-\alpha),$$
    dove $\beta>\alpha$ è stato scelto come sopra e le disuguaglianze le abbiamo già viste.
  \end{proof}

  Per ipotesi
  $$\frac{1-|f(z)|}{1-|z|}=\frac{1-|z|+o((z-1)^3)}{1-|z|}=1+o((z-1)^2)$$
  per $z \longrightarrow 1$ non tangenzialmente (abbiamo usato il lemma \ref{opiccoli} per poter usare indipendentemente $z-1$ o $1-|z|$ negli $o$-piccoli). \\
  Possiamo quindi concludere che
  $$f^h(z)=|f'(z)|\frac{1-|z|^2}{1-|f(z)|^2}=1+o((z-1)^2)$$
  per $z \longrightarrow 1$ non tangenzialmente.
\end{proof}
